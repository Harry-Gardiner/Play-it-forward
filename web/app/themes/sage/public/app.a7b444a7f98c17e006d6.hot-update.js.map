{"version":3,"file":"app.a7b444a7f98c17e006d6.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACjHA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAKA;AAEA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sources":["webpack://@roots/bud/sage/sage/./scripts/app.js","webpack://@roots/bud/sage/sage/./scripts/custom/Beacon.js","webpack://@roots/bud/sage/sage/./scripts/custom/Footer.js","webpack://@roots/bud/sage/sage/./scripts/custom/Header.js","webpack://@roots/bud/sage/sage/./scripts/custom/StatsCounter.js"],"sourcesContent":["import domReady from '@roots/sage/client/dom-ready';\nimport './custom/Header.js';\nimport './custom/SwiffySlider.js';\nimport './custom/StatsCounter.js';\nimport './custom/Footer.js';\nimport './custom/Beacon.js';\n\n/**\n * Application entrypoint\n */\ndomReady(async () => {\n  /**\n   * Load more posts\n   */\n  const loadMoreButton = document.getElementById('load-more');\n  const cardsWrapper = document.querySelector('.cards-wrapper');\n  const spinner = document.querySelector('.spinner');\n  let currentPage = 1;\n  let isLoading = false;\n  if (loadMoreButton) {\n    loadMoreButton.addEventListener('click', async (e) => {\n      const num = e.target.getAttribute('data-num');\n\n      // Increment the current page\n      currentPage++;\n\n      // Check if a request is already in progress\n      if (isLoading) {\n        return;\n      }\n\n      // Set the isLoading flag to true\n      isLoading = true;\n\n      // Show the spinner after 0.5 seconds\n      const spinnerTimeout = setTimeout(() => {\n        spinner.style.display = 'flex';\n      }, 500);\n\n      const response = await fetch(`/wp-json/v1/posts/load_more?page=${currentPage}&per_page=${num}`);\n      const newPosts = await response.json();\n      // Check if there are new posts\n      if (newPosts.length > 0) {\n        // Convert the posts to HTML\n        const postsHtml = newPosts.map(post => `<div class=\"card new-card\" style=\"opacity: 0\">${post}</div>`).join('');\n        // Render the new cards\n        cardsWrapper.insertAdjacentHTML('beforeend', postsHtml);\n\n        // Fade in the new cards in order\n        const newCards = cardsWrapper.querySelectorAll('.new-card');\n        newCards.forEach((card, index) => {\n          setTimeout(() => {\n            card.style.opacity = 1;\n            card.style.transition = 'opacity 0.5s ease-in-out';\n            setTimeout(() => {\n              card.classList.remove('new-card');\n            }, 500);\n          }, index * 100);\n        });\n      }\n\n      // Hide the spinner\n      clearTimeout(spinnerTimeout);\n      spinner.style.display = 'none';\n\n      // Set the isLoading flag to false\n      isLoading = false;\n\n      if (newPosts.length < num) {\n        loadMoreButton.remove();\n      }\n    });\n  }\n\n\n  /**\n   * Load more matches\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    var loadMoreMatchesButton = document.getElementById('loadMoreMatches');\n    var matchResults = Array.from(document.querySelectorAll('.football-team__matches__result'));\n\n    loadMoreMatchesButton.addEventListener('click', function() {\n        var hiddenMatches = matchResults.filter(function(result) {\n            return result.style.display === 'none';\n        });\n\n        hiddenMatches.slice(0, 3).forEach(function(match) {\n            match.style.display = 'flex';\n            match.classList.add('loaded');\n        });\n\n        // Fade in the new cards in order\n        const moreMatches = document.querySelectorAll('.loaded');\n        moreMatches.forEach((card, index) => {\n          setTimeout(() => {\n            card.style.opacity = 1;\n            card.style.transition = 'opacity 0.5s ease-in-out';\n            setTimeout(() => {\n              card.classList.remove('new-card');\n            }, 500);\n          }, index * 100);\n        });\n\n        if (hiddenMatches.length <= 3) {\n            loadMoreMatchesButton.style.display = 'none';\n        }\n    });\n  });\n});\n\n/**\n * @see {@link https://webpack.js.org/api/hot-module-replacement/}\n */\nimport.meta.webpackHot?.accept(console.error);","\n! function (e, t) {\n    if (!e.getElementById(t)) {\n        var c = e.createElement(\"script\");\n        c.id = t, c.src = \"https://static.beaconproducts.co.uk/js-sdk/production/beaconcrm.min.js\", e\n            .getElementsByTagName(\"head\")[0].appendChild(c)\n    }\n}(document, \"beacon-js-sdk\")\n","function debounce(func, wait, immediate) {\n    let timeout;\n    return function () {\n        let context = this, args = arguments;\n        let later = function () {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        let callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\n\n\nconst backToTopBtn = document.getElementById(\"backToTopBtn\");\n\nconst scrollHandler = debounce(function () {\n    if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {\n        backToTopBtn.classList.add(\"show\");\n        backToTopBtn.classList.remove(\"hide\");\n    } else {\n        backToTopBtn.classList.add(\"hide\");\n        backToTopBtn.classList.remove(\"show\");\n    }\n}, 50);\n\nwindow.addEventListener(\"scroll\", scrollHandler);\n\nbackToTopBtn.addEventListener(\"click\", function () {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE, and Opera\n});\n","/*\n* Nav menu\n* Handles the header navigation drop down and hamburger menu\n*/\nlet menuItems = document.querySelectorAll('li.menu-item-has-children');\n\nconst hamb = document.querySelector('.hamb');\nconst dropdown = document.querySelector('.nav');\nlet subMenuItems = Array.from(\n  dropdown.querySelectorAll('li.menu-item-has-children')\n);\n\nhamb.addEventListener('click', function (e) {\n  e.preventDefault();\n  if (dropdown) {\n    dropdown.classList.toggle('drop-open');\n    this.classList.toggle('hamb-open')\n  }\n});\n\nwindow.addEventListener('click', function (event) {\n  if (!dropdown.contains(event.target) && !hamb.contains(event.target)) {\n    hamb.classList.remove('hamb-open')\n    dropdown.classList.remove('drop-open');\n  }\n\n  subMenuItems.forEach(function (menu) {\n    if (!menu.contains(event.target)) {\n      menu.classList.remove('open');\n      menu.querySelector('button').setAttribute('aria-expanded', 'false');\n      menu.querySelector('a').setAttribute('aria-expanded', 'false');\n    }\n  });\n})\n\nArray.prototype.forEach.call(menuItems, function (el) {\n  let activatingA = el.querySelector('a');\n\n  function menuToggle(event) {\n    if (!this.parentNode.classList.contains('open')) {\n      let elems = document.querySelectorAll('.open');\n      [].forEach.call(elems, function (el) {\n        el.classList.remove('open');\n        el.querySelector('button').setAttribute('aria-expanded', 'false');\n        el.querySelector('a').setAttribute('aria-expanded', 'false');\n      });\n\n      this.parentNode.classList.add('open');\n      this.parentNode.querySelector('a').setAttribute('aria-expanded', 'true');\n      this.parentNode\n        .querySelector('button')\n        .setAttribute('aria-expanded', 'true');\n\n      let subMenuItems = Array.from(\n        this.nextElementSibling.querySelectorAll('.menu-item')\n      );\n      subMenuItems.forEach((item) => {\n        item.firstChild.setAttribute('tabindex', 0);\n      });\n    } else {\n      this.parentNode.classList.remove('open');\n      this.parentNode.querySelector('a').setAttribute('aria-expanded', 'false');\n      this.parentNode\n        .querySelector('button')\n        .setAttribute('aria-expanded', 'false');\n    }\n    event.preventDefault();\n  }\n\n  let btn =\n    '<button class=\"sub-menu-btn\" aria-haspopup=\"true\" aria-expanded=\"false\" tabindex=\"0\"><span class=\"caret\"></span><span class=\"visually-hidden\">show submenu for ' +\n    activatingA.text +\n    '</span></button>';\n\n  activatingA.insertAdjacentHTML('afterend', btn);\n\n  el.querySelector('button').addEventListener('click', menuToggle);\n});\n\n\n/*\n* Front page hero nav\n* Handle the front page hero nav width and style\n*/\nconst heroImage = document.querySelector('.hero-fp__image');\nconst heroNav = document.querySelector('.header__wrapper__nav');\nconst headerNavInner = document.querySelector('.header__wrapper__nav__inner');\nconst header = document.querySelector('.header');\n\nfunction adjustHeroNavWidth() {\n  if (document.body.classList.contains('home') && window.matchMedia('(min-width: 992px)').matches && document.querySelector('.hero-fp__image')) {\n    if ((headerNavInner.offsetWidth + 33) <= heroImage.offsetWidth) {\n      heroNav.style.width = heroImage.offsetWidth + 'px';\n      header.classList.remove('default');\n    } else {\n      header.classList.add('default');\n    }\n  } else {\n    header.classList.add('default');\n  }\n\n  if (window.matchMedia('(max-width: 992px)').matches) {\n    heroNav.style.width = 'auto';\n  }\n}\n\n// Call the function on page load\ndocument.addEventListener('DOMContentLoaded', adjustHeroNavWidth);\n\n// Call the function on window resize\nwindow.addEventListener('resize', adjustHeroNavWidth);\n\n// Call the function on orientation change\nwindow.addEventListener('orientationchange', adjustHeroNavWidth);\n\n// Front page hero nav scroll variation\nfunction debounce(func, wait) {\n  let timeout;\n  return function () {\n    const context = this;\n    const args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      func.apply(context, args);\n    }, wait);\n  };\n}\n\nwindow.addEventListener('scroll', debounce(function () {\n  let scrollY = window.scrollY;\n  if (document.body.classList.contains('home') && window.matchMedia('(min-width: 992px)').matches && !header.classList.contains('default')) {\n    if (scrollY >= 60) {\n      header.classList.add('scrolled');\n    } else {\n      header.classList.remove('scrolled');\n    }\n  }\n}, 10));","import { CountUp } from 'countup.js';\n\nfunction animateNumbers() {\n    const options = {\n        startVal: 0,\n        duration: 3,\n        separator: ',',\n        enableScrollSpy: true,\n        scrollSpyOnce: true,\n        useEasing: true,\n        smartEasingThreshold: 999,\n        smartEasingAmount: 333,\n    };\n\n    const numbers = document.querySelectorAll('.custom-grid__stat__number');\n    numbers.forEach((number) => {\n        const countUp = new CountUp(number.id, Number(number.textContent), options);\n\n        // after DOM has rendered\n        countUp.handleScroll();\n\n        if (!countUp.error) {\n            countUp.start();\n        } else {\n            console.error(countUp.error);\n        }\n    });\n}\n\nanimateNumbers();"],"names":[],"sourceRoot":""}