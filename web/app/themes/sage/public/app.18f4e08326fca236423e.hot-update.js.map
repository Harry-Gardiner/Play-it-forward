{"version":3,"file":"app.18f4e08326fca236423e.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA","sources":["webpack://@roots/bud/sage/sage/./scripts/app.js","webpack://@roots/bud/sage/sage/./scripts/custom/Banner.js","webpack://@roots/bud/sage/sage/./scripts/custom/TeamTab.js"],"sourcesContent":["import domReady from '@roots/sage/client/dom-ready';\nimport './custom/Header.js';\nimport './custom/SwiffySlider.js';\nimport './custom/StatsCounter.js';\nimport './custom/Footer.js';\nimport './custom/Beacon.js';\nimport './custom/TeamTab.js';\nimport InfoBannerCookies from './custom/Banner.js';\n\n/**\n * Application entrypoint\n */\ndomReady(async () => {\n  /**\n   * Load more posts\n   */\n  const loadMoreButton = document.getElementById('load-more');\n  const cardsWrapper = document.querySelector('.cards-wrapper');\n  const spinner = document.querySelector('.spinner');\n  let currentPage = 1;\n  let isLoading = false;\n  if (loadMoreButton) {\n    loadMoreButton.addEventListener('click', async (e) => {\n      const num = e.target.getAttribute('data-num');\n\n      // Increment the current page\n      currentPage++;\n\n      // Check if a request is already in progress\n      if (isLoading) {\n        return;\n      }\n\n      // Set the isLoading flag to true\n      isLoading = true;\n\n      // Show the spinner after 0.5 seconds\n      const spinnerTimeout = setTimeout(() => {\n        spinner.style.display = 'flex';\n      }, 500);\n\n      const response = await fetch(\n        `/wp-json/v1/posts/load_more?page=${currentPage}&per_page=${num}`\n      );\n      const newPosts = await response.json();\n      // Check if there are new posts\n      if (newPosts.length > 0) {\n        // Convert the posts to HTML\n        const postsHtml = newPosts\n          .map(\n            (post) =>\n              `<div class=\"card new-card\" style=\"opacity: 0\">${post}</div>`\n          )\n          .join('');\n        // Render the new cards\n        cardsWrapper.insertAdjacentHTML('beforeend', postsHtml);\n\n        // Fade in the new cards in order\n        const newCards = cardsWrapper.querySelectorAll('.new-card');\n        newCards.forEach((card, index) => {\n          setTimeout(() => {\n            card.style.opacity = 1;\n            card.style.transition = 'opacity 0.5s ease-in-out';\n            setTimeout(() => {\n              card.classList.remove('new-card');\n            }, 500);\n          }, index * 100);\n        });\n      }\n\n      // Hide the spinner\n      clearTimeout(spinnerTimeout);\n      spinner.style.display = 'none';\n\n      // Set the isLoading flag to false\n      isLoading = false;\n\n      if (newPosts.length < num) {\n        loadMoreButton.remove();\n      }\n    });\n  }\n\n  /**\n   * Load more matches\n   */\n\n  const loadMoreMatchesButton = document.getElementById('loadMoreMatches');\n  const matchResults = Array.from(\n    document.querySelectorAll('.football-team__matches__result')\n  );\n  if (loadMoreMatchesButton) {\n    loadMoreMatchesButton.addEventListener('click', function () {\n      const hiddenMatches = matchResults.filter(function (result) {\n        return result.style.display === 'none';\n      });\n\n      hiddenMatches.slice(0, 3).forEach(function (match) {\n        match.style.display = 'flex';\n        match.classList.add('loaded');\n      });\n\n      // Fade in the new cards in order\n      const moreMatches = document.querySelectorAll('.loaded');\n      moreMatches.forEach((card, index) => {\n        setTimeout(() => {\n          card.style.opacity = 1;\n          card.style.transition = 'opacity 0.5s ease-in-out';\n          setTimeout(() => {\n            card.classList.remove('new-card');\n          }, 500);\n        }, index * 100);\n      });\n\n      if (hiddenMatches.length <= 3) {\n        loadMoreMatchesButton.style.display = 'none';\n      }\n    });\n  }\n\n\n  /**\n   * Info Banner Cookies\n   */\n  const infoBannerElement = document.querySelector('.info-banner');\n\n  if (infoBannerElement) {\n    new InfoBannerCookies(infoBannerElement);\n  }\n});\n\n/**\n * @see {@link https://webpack.js.org/api/hot-module-replacement/}\n */\nimport.meta.webpackHot?.accept(console.error);\n","export default class InfoBannerCookies {\n    constructor(infoBanner) {\n        this.state = { bannerContents: infoBanner.textContent };\n        this.bindUI(infoBanner);\n        this.attachEvents();\n        this.onLoad();\n    }\n\n    bindUI(infoBanner) {\n        this.infoBanner = infoBanner;\n        this.closeButton = this.infoBanner.querySelector('.info-banner__close-btn');\n    }\n\n    attachEvents() {\n        if (this.closeButton) {\n            this.closeButton.addEventListener('click', this.closeBanner.bind(this));\n        }\n    }\n\n    checkLocalStorage() {\n        return window.localStorage.getItem('infoBanner') === this.state.bannerContents;\n    }\n\n    onLoad() {\n        const bannerDismissed = this.checkLocalStorage();\n\n        if (bannerDismissed) {\n            this.infoBanner.remove();\n        }\n    }\n\n    closeBanner() {\n        window.localStorage.setItem('infoBanner', this.state.bannerContents);\n        this.infoBanner.remove();\n    }\n}\n\n","function showTeam(evt, team) {\n  // Declare all variables\n  var i, results__team, results__tab;\n\n  // Get all elements with class=\"results__team\" and hide them\n  results__team = document.getElementsByClassName('results__team');\n  for (i = 0; i < results__team.length; i++) {\n    results__team[i].style.display = 'none';\n  }\n\n  // Get all elements with class=\"results__tab\" and remove the class \"active\"\n  results__tab = document.getElementsByClassName('results__tab');\n  for (i = 0; i < results__tab.length; i++) {\n    results__tab[i].className = results__tab[i].className.replace(' active', '');\n  }\n\n  // Show the current tab, and add an \"active\" class to the button that opened the tab\n  document.getElementById(team).style.display = 'block';\n  evt.currentTarget.className += ' active';\n}\n\nconst teamTabs = document.querySelectorAll('.results__tab');\n\nif (teamTabs) {\n  teamTabs.forEach(function(tab) {\n    tab.addEventListener('click', function(evt) {\n      showTeam(evt, tab.dataset.team);\n    });\n\n    if (tab.id === 'defaultOpen') {\n      tab.click();\n    }\n  });\n    \n}\n"],"names":[],"sourceRoot":""}